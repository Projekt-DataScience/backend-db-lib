# backend-db-lib
Database library for use by services

# Database Schema

[Link to Schema](https://viewer.diagrams.net/?tags=%7B%7D&highlight=0000ff&edit=_blank&layers=1&nav=1&title=Datenbankschema.drawio#R7V1rd5u41v41Xut9P4SFuPMxcTo9nabndNJp53S%2BzCIxsZnYxgO4SfrrjwQIAxIgsLgYyJo1jQmWsfbWfrSffdFCXu5e33vWYfPJXdnbhSSuXhfy7UKCP4oJ%2F0FX3qIrwJRBdGXtOav42unCF%2BenHV8U46tHZ2X7mRsD190GziF78dHd7%2B3HIHPN8jz3JXvbk7vNfurBWtvEhS%2BP1pa8%2BoezCjbRVUPST9f%2FZTvrDf5koMXfeGfhm%2BNv4m%2BslfuSuiS%2FW8hLz3WD6Lfd69LeotnD8xK975eCvyYP5tn7gOUNT39Kzx%2F8f92v7%2F%2F5%2Fof142q1v%2F1xFY%2Fyw9oe4y%2F82XP%2FhhN5exM%2FdfCGpwJ%2BgQP69fFt6%2BxXticv5JuXjRPYXw7WI%2FrDC9QBeG0T7LbwFYC%2FPrhHeOfq7iG5YD0%2Brz109T%2FHAA5jx9f9SPBAhb%2BTXww%2Fpe0F9mvqUvxF39vuzg68N3hL%2FFdNVaK3xGp3JcmxFF5OQgSKFl3bpAWIb7RixVkng5%2FmFv4ST2%2BdqTaJub6z3myvcJ4D6wFduvEDywvilQGfTr6Buh5YcO68ePIe3e3WOvhOeHt0ZeNsV3B09xjggfCrmyfn1V7dRwsD3QvXyB0cDL1Egz%2FBwb%2FED4P%2BbG2d9R5JHUoDfeKNZyNh3Vl%2BEN%2FBQV6SKWblZVLEZQKKuKS2xIUHTomrXFL3aHHfbFzP%2BYnks43nMy298PWLs9tae2g1rFXu0o0bmslQCs52u3S3LhLx3kXLJCdldNPKcw%2B%2FW97aDuILB9fZB%2BFEqDfwP%2FgNlqKgLlT4rEv4Gpxew%2F%2FQ7V6wdPd%2B4EFtQmPYUKgvNhLsTeAe4kG39hMe34snXgyXdhC4u0IVKF8C1YoRKwJt2dL0oLVVK1Es5MdCRYAzEDjW9h4aUGu%2F3kZiC4HJOomNIlvqbCcznJ%2F6%2FBJ14Xw%2BbUNs2Tirlb1nl0ii5dUSSYlAFetJIB7sNC21R7O20PjsrQCuEYgdPiHW5DnPkLREt88fbnsWN7bA0b03PkRbZ7%2B%2Bi96p5fRB7UwfXrPSywBrzRVarh9Mw3WhIPKMCEyIILaJCFrviKAQavAl8OCK7NlM2CsHj3cuKMjMQhk9KKh0UNhbO3vosNCNBkwPBrQZBvqHAVYHsT0Y0Ak1%2BAC%2F42gwQGOWyOgxwCjAgOPuoYS%2BGQEKsOvA5FBAJr3Fr%2F5M5qG%2FGrIoKPH0YNrfMAnFSCj%2BtCSTi9zttTx7b9z5vGQRnMPnUfWgNdiWSe9tTHyePLtuyVSQrhuy0JOi82qoQwmCa1zVg2m4LvRj9uO4%2B3H1AYFC53UMCKQfNzI6T55duWQqSFfuF8fzg5HTeTU0YHowQKZlzDDQOQxQ6LxuYUAh0z3GBgPsHOvYYUAhkzoQBTJ2FGBXgMmhAOarZhToEwWSbL7%2BYIBkCUcGAwq7VEYPAyQX%2BG5nOdsRY0AN6U8OA4A4M0JDAAGKxnULAkAkOaHPNx9vfylWh%2B4DBeJ5huCk7DMOAJGkhT5bvv%2FiequhY0FPKjFBcJh5oiGAg9E7OOBPG5qLwNUSzFzRSd7UGkkoLvvgPAZHz%2F56fzcplJhppGL3isw5eO%2B5x0M5UiwmkRaWZMyW5YQpFDkackumXJn9Pe4pYckKOCsljKYGUmtqQPH2RpQSpjRy9GgGtUwC5faZZbQuzDPp54XmeVI5YTX04TUrvTTgGlz1g2m4LhRkdvK4O3n1EUGV2RChNR9PHaiLxzEK1MjB47tpH8ieXSX9uxAURp4NUEMDasLAGW4cy3AdqITB4BjY%2B9U16i91km2q75EX9T3Cy%2FbVCf4b%2FwX9%2Fh1dF4Cmx69vX1M33mI0gOLz3v6bfhG9T8UvT28LX72lBvlsew6chNB7pJvqWOl99%2Bg92gzWO8CQU3QjzjG0V5mGWqQ2efbWCpwfduY5SnTlM8K3NJmQbe0kg9w2IfpK8btOukEOhJUt8UOM7EDRVyYGglK33lK3xfjbhhqSjgmcLm2LbMGDB39bB4lsU5oZOu8pM5TSy5xBQWvfebS21%2FFlbIhYbQheJ1nTt5DqdxHBjciYleMsfDdIP2DfZBpjWz2geex0Gk3STC7d3cHavxXi5oT4Ls0w8mWQSZZpFeaZbe1sTdKklMtqqg5ODcrLZHeoS7qa1d1JnacGlID3iCivRMtreTcypR1k870sy2gdbGVNktGIbfSkSK8aGvGalV%2Bm94DCU0OYhusktYGkO2ZQOJP1qg8KPNzrM9PeSCZkZLTXSdVnZACiVAQNI6e%2B6mjBBNGAoVFKA%2FLrShREYGYZMDb%2BC8A3pimwq%2FidZRwYepUnwfgSY3hHUUmM4TBW28SYpmX5LAXIgqibp5%2FsgKw0ma4rArYUeOTBMWVAJEs5AKG13RFjySLqgRmji%2FEK6Nm3uE9Pvh20IwwyC6pXeo2jNPgII5sIdQU6kwyl%2B9G9uy3G%2BgnRdQDoRNsyGe%2BIq7pMtsbXAUoXo3JpTdU3q3MMQbIMLuccAkBpVzQmyu6k6HPKOaD0JEJmelKMXR2FmFz3UUBpZDTDwrlNqOvDQu%2BHEQBK%2B6KxcXaJrs%2FIAChtihAyjJ2wq6EC08MClXTqCF2oQ9gleWeCKCbJZjFjpxtNmTcyAU4tpf9I1WBl5nDT00pmLjH4bVNzQFRJ39LIqQorIQeADAQ5N5iWY%2Ff6Z%2BRUTiQQL0YOr5JLy1UDKun4NaI2ubFp%2FGaSE7UpZ9bCVY6cbpFOUym9Y23fd1xS0yfJqJEHASgaI6PW3sGeQJ19J%2F6UmsqeYDMYSk0lfadRUWpqI8dJ5%2Bo4sYzWxSZZIx2n2FRPi1WroROvWQmm16nE15NiGa4TJSEToGZkOJdVq48M%2FbNqmkQowtevvRsKjpyaxr6bGz80UHq%2BRtAwAJm3SqvV0IIJgsFcKjMEMOj9oE%2Bgkf7i784OzpK1K27sdHk937RGRTMjhQRaVA1KNHCGH2fpSScmCBCc4y4NgiRJrCbMrl7wiNWQqsEcd4mJ6uq4C0aB9uMugIy7qLlQCXPcRTRJOjOf%2BNd%2F3EUj4y69ZkJrlxp30YYWd%2BE3k3ziLtmlAFd1doAW4y4mydNcH6FzXAjNE4q6GJJMWCmd7LRJLS1MWu%2FzX00myaiUS2uq3lSdoIvJrh1D6TwATJJtGVXQJVH0Wm4U7kHKZ4vMMloXO2ST3CGHdnr4rBrPkEsNjXjNyi%2B9SnFWEycnimW4DlREoqRQzLhwLstWHxd6bz4gUbIybqHqDQgZziRTpBrc59iRQaKkXtwe7VX%2FAu%2BSXqujEdNDBkrGxowM3SMDLf7SLTJQsjI%2B7It9%2FcsDBo2dwBk9MFAyL26PnhWU5dSOEBlqqMSYkeHvj5%2FcR%2BX24dvmCN6bn%2F98%2Bpe9uZor4oeAC7SzmlsDBqoekPz8jetubatvQ9HMDpSq%2BqSAgToTlIp4%2B%2FHowfmzV%2BXc%2F0Wjw5laMWZsKDBkJI1w9%2Fn6tyM0nnNZTqQMqhArUHLcioavVAaI2qvKoTSqnWH97AARe7b%2FUAJEEqUb7bgCRI2O3hllC1KJ0nE2Za0nFiaqfSDPdJqSSpRetTM6nO301UaH%2FsNElO60I%2Bt3c9L1GSAkSl%2FXyr38QLChIxWYHhaAuX5%2FCFjQf2AIFPY%2BW0qLa3FAPsO54QDQqJJ%2FnJAgkf7hre0%2Fes7hElChJ62YHkpQmpCnXMsl%2FPC1GxuhqROCsRrFdl1XRAodmLjqnbS9lkSGE1hnjC%2FUgYolcQ4bSFWEFv09MvAzJjbwpOgzsktiaewGm%2BxJsYJ19KME43FRICeMZxmuE4WZY0bcPcEGKEFhBTtGCUDp7jU2VnAOG53ETYaNMDqMvBN2HTWYHh4AhihRs07Yipw0U4iPoBPRtHBsr1B9jhw2zK13TZCz%2BSGammSM1O6ZkBtKl8X8UL13TIAPSWhNn52qEy0e0NlxUkaKoLMOyxLgdK4fryYMHIXDSTbZBdbdWXInoolv%2BxtRAIq0SLfAEUVjUdoEh3KuZ9p0w%2FWdMt2Njg4ttNqVTXGSwEqlfVfMjsw7DtLg9D8DNDXverbzukyO1L91x1o5FOuOBda%2FdccmQ%2BnOZJBI26815ycMPtYcZK051t0ORMP7EBnczAxabzljzYFUo6WZqC2yPc3Myk13ERj0YdKTspq2bbqqA8HMhnEULeeAsRp1TRZzA0nC0E6XkSiny%2Bz6tOo9ni5ToBEZGXa4LaQcV9Pr4c8cRcNpx94d3lI6W3Mx6mmDzmbMRWie5KwtNzW96604K9UCxI724gZ55rSiQcyUxeQntwVgteKmoRWevTMcM05podrr5hwvmMGY8Q5tBae%2BodzsNj9ZcNqbZ1dTvhKuTdGQYc6w5NVeffWhXcwLCc5KkJWNH3jus50LalDiHES6UV6IO2e1CsMmLxv48V8OVmhwXzzrQIBFoZ1ml5tJWkcZ2%2FBU%2BAFvdLsJNerUkqXrvf9CEcUEs8k0PEGY8mduPtpabamkkxxQuaimmidQJ5tMZ1eNwdSW6uSGeFTZZImiz0kCkk7uLRNDPa0cshpaMb08cX1uJ8Q%2Fh6w%2BNvRfWaqTxFX%2FbeY4JpDpjZoJjRQbyKzyih38QGChIwWYIAzMRaVDgIH%2Bi0p1kmwZaVGpPheVJnOBdSydUezudnbvG4BOC0praMT0EMIoIf7uoSmdu8vR6D%2BTdWPfXi2pMbN%2F%2FNk%2F4wLZP2Pk7F%2Bi6DOgS0YJ%2BxdZ62lxgDV0Y4LQPjt%2F%2FJ2%2F%2BgjRPwdoTMb5M2bnL5kLk3T%2BJtpRqIZWTA8lKKfOErrRrLpUXaQzIxfVGe5xZZOpLE6ZmChtEKfasxdKkZrBmk6ZsAXVlasYCtpOpzRlTYAOZz53EruiIKc0zLmUsi6YplE0rCkL%2BSzN%2FjMrKeft9ppZiRfPYDIreyxqpRyB22%2BqJT%2FhXHpRq8lwHGlDG5%2FtIMC3DDVtgsuODGnbAOtqrpec0dDkEgPlkwMHYGFJp7FfC6sPzMJ2l7tOOTukZ4PKTRYXnrsuU07z4GJQk8LSxKAKjUxqsptesNY0FRphhh0zc68XvBtpvXA01wxAy4dhWA02MZA4NIMtUw4b6dNgJ0tjMAYbD9N5YwCZcrxHrwaco2w4GXAlIxq1Bclc7%2B521z9da%2F2w%2FfM9%2BPT31e3Hb1fkkjnLeifUhZxQFbidFlBKrW5FkxddV9JgEA7Itz9XpXWXJUbjjm9svbhUJcqnQH4UZgqELMUCRm6s2ha%2B4LFN8qPihn%2BFT2fKFW%2BBv0TPwXV1kFZLFIRGhqs%2BppQt1%2F4RJfHcO7NUJKfy744QpF1JXJwgyHqKL8eD7f1wfNcjJELWqrLXoOalmY2IoqCndQxcPwrH1imDLcQAdqkZgDRiChkqaSu6SRUMWd%2FwbnfYum822TB1rGIxKdiCjz%2FoSywkjfTR2kPHRDwKXwX0gcfHDRoDXbKdvb2D%2Fy6txw0Kk61t%2F2A78HcPrfUX20PhPmmJ3rX3A%2Fjh6KYfKIYprlBxg3hrBfb%2Bwdo%2FR3etbH9jbR8WqF2zfA3nTryxfzr25ljSOXnvBrYURizDrd3dA1YRWk14ugg9knjY%2FimvPGFIlNQxDhIHiki22NApQUuTInOQd2K5CZ2hcTm5r15Z%2FibcS4PszKLrn60ARUDDK1LIjETL6o%2F4K0ol3HQm%2BngKRjahUTKtYYSKVl%2BF4q1u5aLGBFt6s122uir32ilVUCmagK%2BdG6DUCGVU5YZbciCSGKMw7sm5bYAb6TFLuCR2ENsJl7TueWlqpWRYxYzGwkkWSROMHvux0TffJMvbEbVWqpb9%2B0EthkLogiAJm66ItJYlcTmBELpgSK4g7OHD5BNdaP8eAxBmMDFdHfTvocuB1hJP26IJh9tgbR2EXz26cMQXPi2W8uJGW2%2BdaNt978KdNZzPa3wnfJRj%2Ft3wGjHig0d8xjZ%2FZevgK99caNahPv5EwjyNerqBfMt724feAnzaa%2BUp8J%2FC515uvHDvv3gnLQxtgTKDxJ%2FCDfItVpb3BP%2FZH73EQygbwT%2BgbOc9moJQeX30Lghjm9Nte8YH%2FeRA0HqwneirWTukgPsH%2F5CdwLIRrlc7Z%2B%2BghOZwEZW8B0knNc29%2BTUxunFYWdBpJfZ%2Bkkq2xpKoXk2%2BMyy%2FxdWoiTBnt6ZjTwR%2F50pPBFuegbgiQJYB4YuITX0RhfRFVLxr7cgXAZSewNgC%2BAdrn1FD7Z%2BjGxpk6%2FF5HSrQ1WOEpdch1%2BKgzO7IhMR3Yvvx%2B9sB2b%2BNhb6%2B9Rwco0eDwhV3OZj4A63nLEpED3IOKPwRfQj8hH2APojV3rp7q879v0YQsPEq3zM%2B63qlqdlkhiugE6aVThjx6GFXoN2kq40K2hAM39uPRw9%2B38fik68mVIEMDa2eBUZZohxoS%2B9BqLYmP410kculNdUaM7oaVCyKQVYhFygC6aJfaBVyhaLXqyyrKYN4sKLKMobR%2BJYMFcwF6fWTRnushchnq8fronDJ0jbGZ5SYsQzXib4wNOyfQWJR5LTxAokuC5ELFIH0pC%2B0GWGFos8gASid97%2BFvw4cFTqS%2FwRRgMzUmVGgexToshdhgSKQ1YjjQgGNWSbjRwEyDwy6Cr8d4Zpw3P0SfnDfgm8XENhVYcyA8PIsPrmf7M324T%2Fftd3yt1%2FdD4ClCGOGgwwcEFrEjhCFcJBwu13gAVUPSDIhbk50IYBQIZVi3R81HFC%2FNskDBGHc6VIBgKPox2z%2B6YaJpT1dV2F1%2FDtRJ43iYamoui4JOOReUrYn1ep8ROoNJUpfHhuujNInfsJAwvSnVGcMQ1quUQ1rjP5KVkxBElM%2F2S4rqiLk60rbjthT2u3FzIf47K6cqKph50Bd3aJUIzuMU0rijRPsrMPO8p%2FtqIzhJSqYgO9Y5DOT1naSm5QukYAqg1K4UA7UrRNVUuytI%2Fz3A4pMHjw7sKLeb6hEYhGH8v3o0xw%2FDP0%2FxFlS%2B7WzXpyqLFB5xu9vB6E4uk9eSWLqXxw7yhxwnuE1MX509J139sYLH%2B%2FJ9Xbhs2VSrZyRBeBzZ1BLAFBCuGHWRX7dJTEX%2Fu44pU9gf3ZYMA09bYsFAMxFWY5ThSlGbc2yZ62rZoU9bl5AXW4OLtBI51MOJEXI2VJmM23k7L1ODNW2Wab0jmPQ8%2Bqq%2F0WNjLxMoxc9p5ldnxyt8N89nL8tUMrAHBiKoInm6aehMuZ3H5IODXHqU6WONZNT5zxe5fZ4pQym0ARaoqwe5ATfYqcQkwxZ9luBz084fGST7WgnSS1Ihtr7j3MPl1RLQymzZUga0DbuwSWoagojUBMX0ai9p2lu5gHug1nZwgWIHdl5k1K9bOZGYe7hAsfKVRIqYs4%2BdFlJSFVWcuvRUSFh2dIZjHlvo46Q%2BsX761Dbrhwup4qQOg8kxC492wrs1c0bIZ6x9vAwNIOlqrCtyMz33btf3bu762%2BrX%2B9t%2FVYXP6p2axCb9XsqOzNQS5%2FaqnySNEawZC58OnNVynqWNGraylKTcuRTviiAn5dDVSYSAjvyccpUezAQeJVrhYhLc7gaX%2BpM9NdhrF3B1JULq6UM9n%2Fdb1z1x9W3%2Fb2neP%2FYS%2BddSw0lw36PWsbsiZpeavhOBFOdEBTnIzRk0oT2yyslqc8J8a4LekMmE8hAkNKnceR2TRJ0GJXTnzGm87eyVEXszcqWLYsBWdkOeCTqTPRnZdsVzMVwSNRpaFTYz9AHGACC8ZHYzLYo6EaOfWoWFuiLQ8L757ZNuiZll7JiNkwgUEUgKCmDnQs5SIYEpXeKOOhs5f%2BtUEtUHSbLLDqilspWVP8W%2Fy07TPu2hKxu6IpbalcQnLilXCBP7kosZK3Bte%2FDKbVR8T%2FKu5kIvyTnmj%2FQEg3FlsglqmAaZf8xYK%2Behl6RFXVTaSGRo2WecLibaDwwmQ8e7AhiDbj5UFPB9nxinS4oOTBk7v4oobye5AdnyGDVlABjbkh3KEum9PWJssbQULaNCA7dcSGT1XqFWW6SaAVmu%2FOkAK1LFQdzXoPzL6C%2BKuMLZ5hsDJiVJlvpiOjSckY6t81itc%2BKKQlmyukxcidXSrKQTtJS1KGZa8BpN86LB1OHYrCTYdqIL9C%2FO7kDbwSd3KgvbrLgI4psJmJ3%2FiqlyXnsEYnQEsP%2Fv4cm%2BbDA%2Ff%2BWvh9WGFjHJ3Q8wxaVL%2BRPZ1hZyMShwgLfDg92eI4rGCw%2FLnSA%2F%2F%2Fqh5%2BROfgBfbAVXo2LEMJb9s7jJkjf6oVPdTyErQr%2FL272utzYT%2F9PKNQl1gcAGWR9NJXio7XWn49OWw%2BhNqD1Ex1aSiWgHZ1WuhQHkvev5zIOGqccGPmUA6W1lIN3P%2B%2Bf%2F%2Fmu%2F7z%2B%2B4f%2Bj2XZf%2F2lfm%2FrmL%2F6%2FAJ0pEGGX4AXJKmJ%2FjbXRnYKv6vNqqEqGRogywIohiFoqT82pPcVxRBMo4jdV4ZD7lM1WOKzd6q%2FjS1bT%2F3vYtvcLFG%2FeX%2BJo%2B0Kgs8WVsqsqTY8C%2BoskNFbTO3HW9ecgMZK7cPtn5DjfXTKzhG0xO5TZUPSQb%2Bcqn6jWmW0o0f%2F%2FmKh4ZYnP6HyxIZl6t348Ab0e1gjjf7mhafEIe%2Fg36iueGt7L7bj2ymfYh%2F1Gw9QkXNYa20727R3EX1c5Id89qJXT%2BGr563lCYRuXaK%2FcSXn0qI0WWeuRxblljSHpAsYNm3dd4U4kZFo8kBxXwimHVvZGkrv18rs4EC8B9nIKpWSP5eDeeeWq5ZXQLfeA8mPMChidfZ7Z%2Bw0zjysTsPUOkpll0xNMBX5tN%2FOlm1dAV0wzVRmZf6oDfb6XiVX36tI7VWb03donOJUnHbuJq8N4yUlYtIFQ5ICXWVitiuZi8nEpIuF9HTZD5IbxzZezwGnLJKb%2BLYOlbu%2F%2BfBDf%2Fv0%2Bde%2F%2Fry%2FXl9tJfewptBnuMv%2F7dGLGwkVbIMndDAL3AkTxcy6Tlbu0U9m4cHcU4VHrqdyYU21uyZdC0rXwyBPZaE%2BMUlbXeiZLKUqXqvNsmIKqp6ilSm%2BbfPeig0G59tpkTpPJE%2BWt%2BNjPavlTLV5LZVqelWHEJDKiNF5alWT0TtQK4aMrxlhFkVePB%2BE6fJIF%2BoTk3lWl9W8uVIkKrNIpg0yJG2LtvrIVRs4snSiGzOSlOkOQynIjCQtI0mXx8JQn5ik2y%2F0UJhSFZ9hpIJzInnzVRXZdPlAwq4dM5CUag%2FnKpRTfaAhJj0go%2Fw9cHZTyAXXDNQyFEhHAKkN2OJpG0gE2cjln%2Bp5TWJuDZnLP9WM3ED8goD06WepQhlrOMPUszlJmkSmltQ95Oa8cAZLIcpYpQFAbi3oChmi4CQO%2BNJz3SC9ljzrsPnkrmx0x%2F8A)

# Setup DB

1. You can start a database server and a pgAdmin with the following command. It should be run fron the root directory of this repository

```
docker-compose up
```

[![2022-12-10-11-22.png](https://i.postimg.cc/gJjbhrXX/2022-12-10-11-22.png)](https://postimg.cc/JyfFVrQM)

After you see this output, everything should be up and running:

[![2022-12-10-11-23.png](https://i.postimg.cc/DzMnBqKd/2022-12-10-11-23.png)](https://postimg.cc/3ymsw0Nd)

2. Login into the pgAdmin: Now you can login into pgAdmin when you open the URL http://localhost:8011 in your browser.

[![2022-12-10-11-24.png](https://i.postimg.cc/HxMDzRzd/2022-12-10-11-24.png)](https://postimg.cc/phP6X036)

The username is `backend@backend.xyz` and the password is `backend`.

After login you should be in the pgAdmin view.

![image](https://user-images.githubusercontent.com/39222224/206850322-b38768fd-b74c-4587-b314-a0549d7ed685.png)

3. Next right click on "Servers" and select Register > Server...

![image](https://user-images.githubusercontent.com/39222224/206850442-4147ea8b-47b5-48df-b516-3414509a4dbc.png)

4. After that a pop window should open. Setup the connection to the database server.

Give it a name.

![image](https://user-images.githubusercontent.com/39222224/206850479-cc142ed5-df27-4fcf-b650-a6d5cf2319d7.png)

Next fill out the Connection details. The username password for the db server is "backendgang".

![image](https://user-images.githubusercontent.com/39222224/206850527-d7eca999-9951-4bf2-873e-0f3cc09e5d93.png)

Finally select save. 

![image](https://user-images.githubusercontent.com/39222224/206850542-9be81b05-8de3-4c28-825b-b1eadaa7f0f8.png)

Now a new connection should appear.

![image](https://user-images.githubusercontent.com/39222224/206850565-bbbbcd2c-9b74-4284-8360-7d7c0d9f73eb.png)

5. You can inspect the database tables, by inspecting until schema.

![image](https://user-images.githubusercontent.com/39222224/206850608-c5e27679-2afc-45e3-944f-cfffd9344809.png)

6. If you want to display data inside a table you can right click on a table, then select "View/Edit Data" > "First 100 Rows"

![image](https://user-images.githubusercontent.com/39222224/206850728-11dd37e2-5e95-4954-8fbf-1aa896ff4896.png)

Finally you should see the data.

![image](https://user-images.githubusercontent.com/39222224/206850735-3a4699fa-31bf-4b09-bff2-3ca94cad2940.png)

# How to run the examples

1. Change directory to the examples directory

2. Create a virtualenv in the exammples folder:

![image](https://user-images.githubusercontent.com/39222224/206850980-7c8f82aa-ac3e-406e-a4b5-6a6932b6e768.png)

3. Activate the virtualenv

![image](https://user-images.githubusercontent.com/39222224/206851000-e19ad859-6e04-440f-b7cc-da40d6f82b62.png)

4. Install the requirements

```
pip install -r requirements.txt
```

![image](https://user-images.githubusercontent.com/39222224/206851024-cd97f6e9-0735-4de1-9ff3-9c8f81568019.png)

5. Now you can run any script inside the examples directory.


# How to install library
You can install the library by running the following pip command:

```
pip install --upgrade --force-reinstall git+https://github.com/Projekt-DataScience/backend-db-lib@main#egg=backend_db_lib
```

[![2022-12-10-11-21.png](https://i.postimg.cc/4yXtwkG9/2022-12-10-11-21.png)](https://postimg.cc/sQ0vDLvj)

You can also add the following line to your requirements.txt:

```
git+https://github.com/Projekt-DataScience/backend-db-lib@main#egg=backend_db_lib
```

# How to reinstall
**KEEP IN MIND THAT YOU WILL LOOSE ALL YOUR DATA IN THE DATABASE DURING THIS PROCESS**

When this repository changes, you can reinstall it, by following the following steps.

1. The changes should already be pushed to this main branch

[![2022-12-10-10-55.png](https://i.postimg.cc/5N4xpkMM/2022-12-10-10-55.png)](https://postimg.cc/K4WS8fz9)

2. Stop you database server

[![2022-12-10-10-54.png](https://i.postimg.cc/FHXY9VMW/2022-12-10-10-54.png)](https://postimg.cc/6yzWcn5n)

3. Navigate to the repository, where you have installed this library and want to update. In this case I want to update it for backend-audit. Activate you virtualenv if not done yet

[![2022-12-10-10-57.png](https://i.postimg.cc/MZjsNWq7/2022-12-10-10-57.png)](https://postimg.cc/mhBNFWck)

4. Reinstall the library with the following pip command. This command will uninstall and install the backend_db_lib library.

```
pip install --upgrade --force-reinstall git+https://github.com/Projekt-DataScience/backend-db-lib@main#egg=backend_db_lib
```

[![2022-12-10-10-58.png](https://i.postimg.cc/T3mfP8Vg/2022-12-10-10-58.png)](https://postimg.cc/TKRZk4H3)

You can also reinstall all packages, if you have a requirements.txt file, with the following command:

```
pip install --upgrade --force-reinstall -r /app/requirements.txt
```

5. Delete docker containers of your repository. The following command will delete all unused containers, so be careful

```
docker container prune
```

[![2022-12-10-11-03.png](https://i.postimg.cc/nrRBM9tR/2022-12-10-11-03.png)](https://postimg.cc/xNmc4C8M)

If you just want to delete specific containers, then run the following command:

```
docker container rm [CONTAINER_IDS]
```

6. Delete the volume of your container. You can do that with the following command. But be careful that command deletes all unused volumes.

```
docker volume prune
```

[![2022-12-10-11-05.png](https://i.postimg.cc/X7g7K6GW/2022-12-10-11-05.png)](https://postimg.cc/YhhHkVzD)

If you want to delete specific volumes, then use the following command:

```
docker volume rm [OPTIONS] VOLUME [VOLUME...]
```

7. Next you can start the database container again. Make sure, you are in the right directory. For me it is `~/Projects/backend-db-lib`

```
docker-compose up
```

Wait until the database server and Admin UI are fully up.

[![2022-12-10-11-09.png](https://i.postimg.cc/g2YHzh6W/2022-12-10-11-09.png)](https://postimg.cc/QHyTSHb4)

[![2022-12-10-11-08.png](https://i.postimg.cc/W4NWHK70/2022-12-10-11-08.png)](https://postimg.cc/JsF5ypvh)

 8. Next you can build your containers again. Make sure you are in the right directory, for me it is `~/Projects/backend-audit`:
 
 ```
 docker-compose up --build
 ```
 
 You should see, that the backend_db_lib is installed again.
 
 [![2022-12-10-11-11.png](https://i.postimg.cc/0yghcc3C/2022-12-10-11-11.png)](https://postimg.cc/0bftNd96)
 
 [![2022-12-10-11-12.png](https://i.postimg.cc/50TM11Ph/2022-12-10-11-12.png)](https://postimg.cc/bDx59Xfg)
 
 Finally, you container should be up and running.
 
 [![2022-12-10-11-13.png](https://i.postimg.cc/fT71qxNn/2022-12-10-11-13.png)](https://postimg.cc/kB4jBRGf)
 
 9. Next go to the examples directory inside the backend-db-lib repository. There should be a virtualenv, which you should activate.
 
 [![2022-12-10-11-15.png](https://i.postimg.cc/cLywCngH/2022-12-10-11-15.png)](https://postimg.cc/0bnbHrCR)
 
10. Inside this virtualenv, you should also reinstall the library.

```
pip install --upgrade --force-reinstall git+https://github.com/Projekt-DataScience/backend-db-lib@main#egg=backend_db_lib
```

[![2022-12-10-11-16.png](https://i.postimg.cc/fRCcPbyR/2022-12-10-11-16.png)](https://postimg.cc/QFBK9hc2)

11. Now run the create_schema.py scripts, to create the schema and add some dummy data.

```
python create_schema.py
```

[![2022-12-10-11-17.png](https://i.postimg.cc/gjyX6M62/2022-12-10-11-17.png)](https://postimg.cc/bSJN79T7)

12. After that the schema, should be created, with the changes, that you have pushed. You can inspect that in pgAdmin.

In this case, I have added the class "LPAAuditDuration". I can see, that the table was added successfully and that it contains the right columns.

![image](https://user-images.githubusercontent.com/39222224/206850774-07dfcb13-6105-42a3-9739-9f1947c3adec.png)

I can also import the class in the code without problems.

![image](https://user-images.githubusercontent.com/39222224/206850795-49f2b3e5-b24d-49dc-ae84-9040d00430d2.png)


